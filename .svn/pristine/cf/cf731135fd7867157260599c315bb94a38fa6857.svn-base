<%@ Page Language="C#" MasterPageFile="~/ControlPanel/CPMaster.Master" AutoEventWireup="true"  CodeBehind="AssignDonor.aspx.cs" Inherits="SaveDC.ControlPanel.AssignDonor" Title="Assign Donor"%>

<asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceHolder1" runat="server">
    <script type="text/javascript" language="javascript"> </script>

    <table width="95%" cellpadding="2" cellspacing="2" border="0">
        <tr>
            <td height="20px"  class="CellLabel"  colspan="2">
	
	
                <table width="100%">
                    <tr>
                        <td width="80%">
                            Student Manager :: Assign Donor
                           
                        </td>
                        <td align="right" width="20%">
                            <asp:ImageButton ID="ImageButton1" runat="server" SkinID="sknImgBack" Height="24"
                                             Width="24" OnClientClick="javascript:window.history.back(); return false;" />
                        </td>
                    </tr>
                </table>
	
            </td>
        </tr>
        <tr>
            <td height="20px">
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <asp:Label ID="lblError" runat="server" Text=""></asp:Label></td>
        </tr>
       
        <tr>
            <asp:HiddenField ID="hdnStudentlId" Value ="0" runat="server" />
            <td class="CellHeading" width="40%">Assign Donor to 
                <asp:Label ID="lblStudentName" runat="server" style="font-style: italic"  Text=""></asp:Label></td>
            <td class="ContextLinks" align="right">
		 
            </td>
        </tr>
	
        <asp:ScriptManager ID="ScriptManager1" runat="server">
        </asp:ScriptManager>
        <tr>
            <td class="CellLabel">
                Select Donor :
            </td>
            <td class="CellData">
                <asp:PlaceHolder ID="PlaceHolder1" runat="server">
                    <asp:UpdatePanel ID="UpdatePanel1" runat="server">
                        <ContentTemplate>
                            <asp:DropDownList ID="ddDonor" runat="server" AutoPostBack="true" OnSelectedIndexChanged="ddDonor_SelectedIndexChanged">
                            </asp:DropDownList>
                            <%--  &nbsp;&nbsp;<a href="###" onclick="ShowModel()">Add New?</a>--%>
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="ddDonor" EventName="SelectedIndexChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                </asp:PlaceHolder>
            </td>
        </tr>
        <tr>
            <td class="CellLabel">
                Donor Details :
            </td>
            <td class="CellData">
                <asp:PlaceHolder ID="PlaceHolder3" runat="server">
                    <asp:UpdatePanel ID="UpdatePanel3" runat="server">
                        <ContentTemplate>
                            <b>First Name:</b> <asp:Label ID="lblFName" runat="server" Text=""></asp:Label> <br />
                            <b>Last Name:</b> <asp:Label ID="lblLName" runat="server" Text=""></asp:Label><br />
                            <b>Phone #:</b> <asp:Label ID="lblPhone" runat="server" Text=""></asp:Label><br />
                            <b>Email:</b> <asp:Label ID="lblEmail" runat="server" Text=""></asp:Label><br />
                            <b>Balance:</b> <asp:Label ID="lblBalance" runat="server" Text="0"></asp:Label>
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="ddDonor" EventName="SelectedIndexChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                </asp:PlaceHolder>
            </td>
        </tr>
       
        <tr>
            <td class="CellLabel">
                Other Students of the Donor:
            </td>
            <td class="CellData">
                <asp:PlaceHolder ID="PlaceHolder2" runat="server">
                    <asp:UpdatePanel ID="UpdatePanel2" runat="server">
                        <ContentTemplate>
                            <asp:Repeater ID="repeaterChildren" runat="server">
                                <ItemTemplate>
                                    <a href="DetailsStudent.aspx?StudentId=<%# DataBinder.Eval(Container.DataItem, "StudentId") %>" ><%# DataBinder.Eval(Container.DataItem, "StudentName") %></a><br/>
                                </ItemTemplate>
                            </asp:Repeater>
                           
                           
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="ddDonor" EventName="SelectedIndexChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                </asp:PlaceHolder>
            </td>
        </tr>
       
        <tr>
            <td>&nbsp;</td>
            <td class="ButtonSpacer"><asp:ImageButton runat="server" ID="btnUpdate" SkinID="sknImgBtnAddUser"  OnClick="btnUpdate_Click"/></td>
        </tr>
               
    </table>

</asp:Content>